{% extends "layout.njk" %}
{% block content %}
  <section class="user-dashboard container form">
    <form method="POST" action="/users?_method=PUT" >
      <div class="header">
        <h3>Detalhes{{userID}}</h3>
      </div>

      <div class="fields">
        {%include 'user/fields.njk' %}
        <input type="hidden" name="id" value="{{user.id}}">
      </div>
      <button type="submit" class="button edit">Atualizar</button>

    </form>
    <form action="/users?_method=DELETE" method="post" id="form-delete">
        <input type="hidden" name="id" value="{{user.id}}">
        <button class="button delete" type="submit">Deletar</button>
      </form>
  </section>

      <script>
      const formDelete = document.querySelector("#form-delete")
      formDelete.addEventListener("submit", function(event){  
        //pegando o evento do submit
        const confirmation = confirm("Tem certeza que deseja excluir sua conta?")
        if(!confirmation){
            event.preventDefault()//Cancelando o padrão que é o evento deletar
        }
      })
    </script>
{% endblock content %}